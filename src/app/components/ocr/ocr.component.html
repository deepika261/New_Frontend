<div class="container mt-3">
    <h2 class="text-center mb-3"> AI Handwritten Text Extractor</h2>

    <div class="card shadow-lg p-3 border-0 rounded-4">
        <div class="mb-3">
            <label for="fileInput" class="form-label fw-semibold">Select an Image File</label>
            <input type="file" class="form-control" id="fileInput" (change)="onFileSelected($event)">
        </div>

        <button class="btn btn-primary w-100 mb-3 fw-bold shadow-sm custom-btn" (click)="uploadFile()"
            title="Click to extract text from image">
            Upload & Extract Text
        </button>
    </div>

    <!--<div class="test mt-1">
            
            <textarea class="form-control bg-light p-3 rounded-3 shadow-sm" rows="10" readonly
                            style="resize: vertical;">Extracted Text is there</textarea>
        </div>

        <div *ngIf="statusMessage" class="alert alert-info mt-3">
        {{ statusMessage }}
     </div> -->

    <!--<div *ngIf="extractedText" class="mt-4">
            <img *ngIf="imagePreviewUrl" [src]="imagePreviewUrl" alt="Uploaded Image Preview" width="100%" class="rounded img-fluid shadow" />
        <h5 class="fw-bold">Extracted Text</h5>

            <div class="position-relative">
                <textarea class="form-control bg-light p-3 rounded-3 shadow-sm" rows="10" readonly
                    style="resize: vertical; overflow-y: scroll;">{{ extractedText }}</textarea>

                <button class="btn btn-outline-secondary position-absolute top-0 end-0 m-2 px-2 py-1"
                    (click)="copyText()" title="Copy to clipboard">

                </button>
            </div>
            <div class="d-flex gap-2 mt-3 justify content center">
                <button class="btn btn-success custom-btn" (click)="downloadFile('docx')"
                    title="Download as DOCX">Download DOCX</button>
                <button class="btn btn-success custom-btn" (click)="downloadFile('pdf')"
                    title="Download as PDF">Download PDF</button>
            </div>
        </div>-->
    <!--</div>-->
</div>

<div *ngIf="extractedText" class="container2 d-flex justify-content-center mt-2">
    <div class="card shadow-lg p-1 border-0 rounded-4" style="width: 100%; max-width: 1000px;">
        <div class="card-body">
            <div class="row">
                <div class="col-sm-6 col-md-6 col-lg-6 " style="height:100px">
                    <!--<img src="backroung_image1.jpg" alt="Uploaded Image" width="100%" class="image">-->
                    <img *ngIf="imagePreviewUrl" [src]="imagePreviewUrl" alt="Uploaded Image Preview" height="100vh"
                        width="100%" class="rounded img-fluid shadow" />
                </div>
                <div class="col-sm-6 col-md-6 col-lg-6 ">
                    <div class="position-relative">
                        <textarea class="form-control bg-light p-4 rounded-3 shadow-sm" rows="12" readonly
                            style="resize: vertical; overflow-y: scroll;">{{ extractedText }}</textarea>

                        <button class="btn position-absolute top-0 end-0 m-0 px-4 py-1 d-flex align-items-center gap-1"
                            (click)="copyText()" title="Copy to clipboard">
                        <i class="bi" [ngClass]="copied ? 'bi-check2-circle text-success' : 'bi-clipboard'"></i>
                        <span>{{ copied ? 'Copied!' : 'Copy' }}</span>
                        </button>
                    
                        <!--<button class="btn btn-outline-secondary position-absolute top-0 end-0 m-3 px-2 py-1"
                            (click)="copyText()" title="Copy to clipboard">

                        </button>-->
                    </div>
                    <div class="d-flex gap-2 mt-3 d-flex justify-content-center">
                        <button class="btn btn-primary custom-btn" (click)="downloadFile('docx')"
                            title="Download as DOCX">Download DOCX</button>
                        <button class="btn btn-primary custom-btn" (click)="downloadFile('pdf')"
                            title="Download as PDF">Download PDF</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>