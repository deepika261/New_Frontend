<div  style="background: linear-gradient(135deg, #f5f7fa, #c3cfe2);height: 100vh; width: 100%;">
<!-- History and Logout Buttons -->
  <div class="d-flex justify-content-end mb-0">
    <button class="btn btn-primary rounded me-2" (click)="viewHistory()">
      <i class="bi bi-clock-history me-1"></i>History
    </button>
    <button class="btn btn-primary rounded" (click)="logout()">
      <i class="bi bi-box-arrow-right me-1"></i>Logout
    </button>
  </div>

<div class="container-fluid dashboard-container">
  <h1 class="text-center ">AI Handwritten Image to Text Convertor</h1>
  
<div class="container mt-3">
  <div class="card p-3 shadow-sm mb-4 upload-card">
    <label class="form-label fw-semibold">Upload Image</label>
    <input for="fileInput" type="file" class="form-control mb-3" (change)="onFileSelected($event)">
    <button class="btn btn-primary rounded fw-bold" (click)="uploadFile()" title="Click to extract text from image">
      <i class="bi bi-upload me-1"></i>Upload
    </button>
  </div>

  <!--<div class="test mt-1">
          
          <textarea class="form-control bg-light p-3 rounded-3 shadow-sm" rows="10" readonly
                          style="resize: vertical;">Extracted Text is there</textarea>
      </div>

      <div *ngIf="statusMessage" class="alert alert-info mt-3">
      {{ statusMessage }}
   </div> -->

  <!--<div *ngIf="extractedText" class="mt-4">
          <img *ngIf="imagePreviewUrl" [src]="imagePreviewUrl" alt="Uploaded Image Preview" width="100%" class="rounded img-fluid shadow" />
      <h5 class="fw-bold">Extracted Text</h5>

          <div class="position-relative">
              <textarea class="form-control bg-light p-3 rounded-3 shadow-sm" rows="10" readonly
                  style="resize: vertical; overflow-y: scroll;">{{ extractedText }}</textarea>

              <button class="btn btn-outline-secondary position-absolute top-0 end-0 m-2 px-2 py-1"
                  (click)="copyText()" title="Copy to clipboard">

              </button>
          </div>
          <div class="d-flex gap-2 mt-3 justify content center">
              <button class="btn btn-success custom-btn" (click)="downloadFile('docx')"
                  title="Download as DOCX">Download DOCX</button>
              <button class="btn btn-success custom-btn" (click)="downloadFile('pdf')"
                  title="Download as PDF">Download PDF</button>
          </div>
      </div>-->
  <!--</div>-->
</div>

<div *ngIf="extractedText" class="container2 d-flex justify-content-center mt-2">
  <div class="card shadow-lg p-1 border-0 rounded-4" style="width: 100%; max-width: 1000px;">
      <div class="card-body">
          <div class="row">
              <div class="col-sm-6 col-md-6 col-lg-6 " style="height:100px">
                  <!--<img src="backroung_image1.jpg" alt="Uploaded Image" width="100%" class="image">-->
                  <img *ngIf="imagePreviewUrl" [src]="imagePreviewUrl" alt="Uploaded Image Preview" height="100vh"
                      width="100%" class="rounded img-fluid shadow" />
              </div>
              <div class="col-sm-6 col-md-6 col-lg-6 ">
                  <div class="position-relative">
                      <textarea class="form-control bg-light p-4 rounded-3 shadow-sm" rows="12" readonly
                        style="resize: vertical; overflow-y: scroll;">{{ extractedText }}
                      </textarea>

                      <button class="btn position-absolute top-0 end-0 m-0 px-4 py-1 d-flex align-items-center gap-1"
                        (click)="copyText()" title="Copy to clipboard">
                        <i class="bi" [ngClass]="copied ? 'bi-check2-circle text-success' : 'bi-clipboard'"></i>
                        <span>{{ copied ? 'Copied!' : 'Copy' }}</span>
                      </button>
                  </div>
                  
                  <div class="d-flex gap-2 mt-3 d-flex justify-content-center">
                      <button class="btn btn-primary rounded mb-2" (click)="downloadFile('docx')"
                          title="Download as DOCX"><i class="bi bi-download me-1"></i>Download DOCX</button>
                      <button class="btn btn-primary rounded mb-2" (click)="downloadFile('pdf')"
                          title="Download as PDF"><i class="bi bi-download me-1"></i>Download PDF</button>
                      <!-- <button class="btn btn-primary custom-btn" (click)="downloadFile('docx')"
                          title="Download as DOCX">Download DOCX</button>
                      <button class="btn btn-primary custom-btn" (click)="downloadFile('pdf')"
                          title="Download as PDF">Download PDF</button> -->
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
</div>

</div>
